<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Marin Tag Tests</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.css">



</head>

<body>
  <div class="controls">

<div>
  <div class="jumbotron">
  <h2> SendBeacon Tests </h2>
  <p class="lead">The below button is an example of a best practice implementation of sendBeacon</p>
  <hr class="my-4">
  <code> function reportEvent(event) {
    var data = JSON.stringify({
      act: 1,
      cid:'24l339123',
      mkwid:'pre232ds323',
      pcrid: 123253645

    });
    navigator.sendBeacon('http://tracker.marinsm.com/rd', data);
  }</code>
  <p class="lead">
      </br>


    <button id="new_beacon" class="btn btn-success">sendBeacon Test #1</button>
  </p>
  <p class="lead">The below button is an example of a implementation of sendBeacon continuing to use the request for our ids </p>
  <hr class="my-4">
  <code> function reportEvent(event) {
    var data = JSON.stringify({
    });
    navigator.sendBeacon('http://tracker.marinsm.com/rd?cid=24l339123&mkwid=seIEs444j-dc&productid=&', data);
  }</code>
  <p class="lead">
    </br>

    <button id="new_beacon_2" class="btn btn-success">sendBeacon Test #2</button>
  </p>
  <p class="lead">The below button is an example of a implementation of sendBeacon continuing to use the request query string with lp parameter </p>
  <hr class="my-4">
  <code> function reportEvent(event) {
    var data = JSON.stringify({
    });
    navigator.sendBeacon('http://tracker.marinsm.com/rd?cid=24l339123&mkwid=seIEs444jlp-dc&productid=&lp=https://www.buyagift.co.uk/', data);
  }</code>
  <p class="lead">
    </br>

    <button id="new_beacon_3" class="btn btn-success">sendBeacon Test #3</button>
  </p>
</div>
</div>







  <!-- Automatic Light Controls -->
  <!-- <button id="stop_control" class="btn btn-danger">Stop</button>
  <button id="go_control" class="btn btn-success">Go</button> -->

<script type='text/javascript'>
    //You can put them in blocks like this (just like <style> tags)...


    var clickButton = document.getElementById('new_beacon');
    console.log('Generate Click: beacon');
    clickButton.addEventListener('click', function reportEvent(event) {
      var data = JSON.stringify({
        act: 1,
        cid: '24l339123',
        mkwid: 'pre232ds323',
        pcrid: 123253645
      });
      navigator.sendBeacon('http://tracker.marinsm.com/rd', data);
    });

    var clickButton = document.getElementById('new_beacon_2');
    console.log('Generate Click: beacon');
    clickButton.addEventListener('click', function reportEvent(event) {
        var data = JSON.stringify({
        });
        navigator.sendBeacon('http://tracker.marinsm.com/rd?cid=24l339123&mkwid=seIEs444j-dc&productid=&',  data);
    });

    var clickButton = document.getElementById('new_beacon_3');
    console.log('Generate Click: beacon');
    clickButton.addEventListener('click', function reportEvent(event) {
        var data = JSON.stringify({
        });
        navigator.sendBeacon('http://tracker.marinsm.com/rd?cid=24l339123&mkwid=seIEs444jlp-dc&productid=&lp=http%3A%2F%2Fad.doubleclick.net%2Fclk%3B226576048%3B50394759%3Bv%3Fhttps://www.buyagift.co.uk/',  data);
    });

  </script>



  <script>
  window.dataLayer = window.dataLayer || []
  dataLayer.push({
     'transactionId': '1234',
     'transaction_timestamp': Date.now(),
     'msmid' : 1 ,
     'transactionAffiliation': 'Acme Clothing',
     'transactionTotal': 38.26,
     'transactionTax': 1.29,
     'transactionShipping': 5,
     'transactionProducts': [{
         'sku': 'DD44',
         'name': 'T-Shirt',
         'category': 'Apparel',
         'price': 11.99,
         'quantity': 1
     },{
         'sku': 'AA1243544',
         'name': 'Socks',
         'category': 'Apparel',
         'price': 9.99,
         'quantity': 2
     }]
  });
  </script>
  <!-- BEGIN: Marin Software Tracking Script (Landing Page) -->

  <!-- END: Copyright Marin Software -->



  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="./js/main.js"></script>

  <!-- Facebook Pixel Code -->

</body>

</html>
