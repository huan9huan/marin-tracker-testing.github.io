<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Traffic lights</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.css">

</head>

<body>
  <div class="controls">

    <!-- Manual Light Controls -->
    <button id="stop_light_control" class="btn btn-danger">Order Test</button>
    <button id="caution_light_control" class="btn btn-warning">Example 2 (TBD)</button>
    <button id="go_light_control" class="btn btn-success">Example 3 (TBD)</button>
    <button id="info_light_control" class="btn btn-info">Example 4 (TBD)</button>

  <!-- Automatic Light Controls -->
  <!-- <button id="stop_control" class="btn btn-danger">Stop</button>
  <button id="go_control" class="btn btn-success">Go</button> -->

  </div>

<script type='text/javascript'>
    //You can put them in blocks like this (just like <style> tags)...


    var stopButton = document.getElementById('stop_light_control');
    console.log('stopButton', stopButton);
    stopButton.addEventListener('click',function() {
    marinConv();
    });

    var cautionButton = document.getElementById('caution_light_control');
    console.log('cautionButton', cautionButton);
    stopButton.addEventListener('click',function() {
    insertParam('pnt1', 's5OV7lY0f');
    });


   function marinConv() {
     var track = new Image();
      track.src="https://tracker.marinsm.com/tp?act=2&cid=10367o210358&currency=&trans=UTM:I|" + myFunction() + "|order|product|category||";
   }

   function myFunction() {
    var x = Math.floor((Math.random() * 10000000) + 1);
    return x;
}

function insertParam(key, value)
{
  key = encodeURI(key); value = encodeURI(value);

  var kvp = document.location.search.substr(1).split('&');

  var i=kvp.length; var x; while(i--)
  {
      x = kvp[i].split('=');

      if (x[0]==key)
      {
          x[1] = value;
          kvp[i] = x.join('=');
          break;
      }
  }

  if(i<0) {kvp[kvp.length] = [key,value].join('=');}

  //this will reload the page, it's likely better to store this until finished
  document.location.search = kvp.join('&');
}

  </script>

  <!-- BEGIN: Marin Software Tracking Script (Landing Page) -->
  <script type='text/javascript'>
  var _mTrack = _mTrack || [];
  _mTrack.push(['trackPage']);

  (function() {
  var mClientId = '24l339123';
  var mProto = (('https:' == document.location.protocol) ? 'https://' : 'http://');
  var mHost = 'tracker.marinsm.com';

  var mt = document.createElement('script'); mt.type = 'text/javascript'; mt.async = true; mt.src = mProto + mHost + '/tracker/async/' + mClientId + '.js';
  var fscr = document.getElementsByTagName('script')[0]; fscr.parentNode.insertBefore(mt, fscr);
  })();
  </script>
  <noscript>
  <img width="1" height="1" src="https://tracker.marinsm.com/tp?act=1&cid=24l339123&script=no" />
  </noscript>
  <!-- END: Copyright Marin Software -->

</body>

</html>
